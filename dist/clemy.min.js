class t{static LEFT="left";static RIGHT="right";static CENTER="center";static JUSTIFY="justify"}class s{static RED="#FF0000";static GREEN="#00FF00";static BLUE="#0000FF";static WHITE="#FFFFFF";static BLACK="#000000"}class e{static CHANGE="change";static CLICK="click";static FOCUS="focus";static LOSTFOCUS="lostFocus"}class i{_handlerMap=new Map;_eventHandler=void 0;_eventPaused=!1;_onEventResume=void 0;set eventHandler(t){this._eventHandler=t}get eventHandler(){return this._eventHandler}pauseEvent(){this._eventPaused=!0}resumeEvent(){this._eventPaused=!1,"function"==typeof this._onEventResume&&this._onEventResume()}on(t,s){let e;this._handlerMap.has(t)||(e=new Set,this._handlerMap.set(t,e)),e.add(s)}emit(t,...s){if(!this._eventPaused&&this._handlerMap.has(t)){let i=this._handlerMap.get(t);for(var e of i)"function"==typeof e?e(...s):"string"==typeof e&&null!=this.eventHandler&&"function"==typeof this.eventHandler[e]&&this.eventHandler[e].apply(this.eventHandler,s)}}}class n extends i{_config={};constructor(t){super(),null!=t&&(this._config=t)}get eventHandler(){let t=this._eventHandler;return null==t&&null!=this.parent&&(t=this.parent.eventHandler),t}set eventHandler(t){1==t&&(t=this),this._eventHandler=t}set name(t){this._name=t}get name(){return this._name}getConf(t,s){return null==this._config[t]?s:this._config[t]}setDefaultConf(t){}applyConfig(t){for(var s in this.pauseEvent(),null!=t&&(this._config=t),this._config)s.length>2&&s.startsWith("on")&&s[2]==s[2].toUpperCase()?this.on(s[2].toLowerCase()+s.substring(3),this._config[s]):s in this&&Reflect.set(this,s,this._config[s],this);this.resumeEvent()}}class a extends n{constructor(t){super(t),this._onEventResume=()=>this.emit(e.CHANGE,this,"all"),this.applyConfig()}set name(t){this._name=t,this.emit(e.CHANGE,this,"name")}get name(){return this._name}set size(t){this._size=t,this.emit(e.CHANGE,this,"size")}get size(){return this._size}set color(t){this._color=t,this.emit(e.CHANGE,this,"color")}get color(){return this._color}set bold(t){this._bold=t,this.emit(e.CHANGE,this,"bold")}get bold(){return this._bold}set italic(t){this._italic=t,this.emit(e.CHANGE,this,"italic")}get italic(){return this._italic}set underline(t){this._underline=t,this.emit(e.CHANGE,this,"underline")}get underline(){return this._underline}set strikethrough(t){this._strikethrough=t,this.emit(e.CHANGE,this,"strikethrough")}get strikethrough(){return this._strikethrough}}class h extends n{_canvas=void 0;_clientCanvas=void 0;constructor(t){super(t)}get canvas(){return this._canvas}get clientCanvas(){return this._clientCanvas}get visible(){return this._visible}set visible(t){this._visible=t,null!=this._canvas&&(this._canvas.style.display="none")}get left(){return this._left}set left(t){this._left=t,null!=this._canvas&&(this._canvas.style.position="absolute",this._canvas.style.left=t)}get top(){return this._top}set top(t){this._top=t,null!=this._canvas&&(this._canvas.style.position="absolute",this._canvas.style.top=t)}render(){null!=this.parent&&null!=this.parent.clientCanvas&&(this.setDefaultConf(this._config),this.doRender(this.parent.clientCanvas),this.applyConfig(this._config))}doRender(t){}}class l extends h{_childs=new Set;constructor(t,s){for(var e of(super(t),this._childs=s,this._childs))e.parent=this}get childs(){return this._childs}getChild(t){let s;for(var e of this._childs)if(e.name==t){s=e;break}return s}render(){if(null!=this.parent&&null!=this.parent.clientCanvas)for(var t of(this.doRender(this.parent.clientCanvas),this._childs))"function"==typeof t.render&&t.render()}}class c extends l{constructor(t,s){super(t,s),this.eventHandler=this}start(t){this._clientCanvas=t,this._clientCanvas.innerHTML="",this._clientCanvas.style.position="absolute",this._clientCanvas.style.width="100%",this._clientCanvas.style.height="100%",this._clientCanvas.style.margin="0 0 0 0",this._clientCanvas.style.padding="0 0 0 0",this.render()}render(){for(var t of(this.doRender(),this._childs))"function"==typeof t.render&&t.render()}}class o extends h{constructor(t){super(t),this._font=new a,this._font.on(e.CHANGE,((t,s)=>{if(null!=this._canvas){this._canvas.style.font=t.name,this._canvas.style.fontSize=t.size,this._canvas.style.color=t.color,this._canvas.style.fontWeight=t.bold?"bold":"normal",this._canvas.style.fontStyle=t.italic?"italic":"normal";let s=t.underline?"underline":"";s+=t.strikethrough?" line-through":"",this._canvas.style.textDecoration=s}}))}set caption(t){this._caption=t,null!=this._canvas&&(this._canvas.innerHTML=t)}get caption(){return this._caption}set font(t){t instanceof a?(this._font=t,this._font.emit(e.CHANGE,this._font,"all")):this._font.applyConfig(t)}get font(){return this._font}set width(t){this._width=t,null!=this._canvas&&(this._canvas.style.width=t)}get width(){return this._width}set height(t){this._height=t,null!=this._canvas&&(this._canvas.style.height=t,this._canvas.style.overflow="clip")}get height(){return this._height}set horAlign(t){this._horAlign=t,null!=this._canvas&&(this._canvas.style.textAlign=t)}get horAlign(){return this._horAlign}setDefaultConf(t){super.setDefaultConf(t),t.caption=this.getConf("caption","label")}doRender(t){this._canvas=document.createElement("div"),this._canvas.onclick=()=>this.emit(e.CLICK,this),t.appendChild(this._canvas)}}class r extends h{static NORMAL="normal";static SUCCESS="success";static WARNING="warning";static ERROR="error";static SIZE_BIG="big";static SIZE_NORMAL="normal";static SIZE_SMALL="small";constructor(t){super(t)}set focusable(t){this._focusable=t}get focusable(){return this._focusable}set caption(t){this._caption=t,null!=this._canvas&&(this._canvas.innerHTML=t)}get caption(){return this._caption}set mode(t){this._mode=t,null!=this._canvas&&(this._canvas.classList.remove(r.SUCCESS),this._canvas.classList.remove(r.ERROR),this._canvas.classList.remove(r.WARNING),t!=r.NORMAL&&this._canvas.classList.add(t))}get mode(){return this._mode}set size(t){if(this._size=t,null!=this._canvas)switch(t){case r.SIZE_BIG:this._canvas.style.fontSize="1.5em";break;case r.SIZE_NORMAL:this._canvas.style.fontSize="1em";break;case r.SIZE_SMALL:this._canvas.style.fontSize="0.75em"}}get size(){return this._size}setDefaultConf(t){super.setDefaultConf(t),t.focusable=this.getConf("focusable",!0),t.caption=this.getConf("caption","button")}doRender(t){this.getConf("focusable")?this._canvas=document.createElement("button"):this._canvas=document.createElement("a"),this._canvas.onclick=()=>this.emit(e.CLICK,this),this._canvas.onfocus=()=>this.emit(e.FOCUS,this),this._canvas.onblur=()=>this.emit(e.LOSTFOCUS,this),t.appendChild(this._canvas)}}class _ extends h{static TEXT="text";static NUMBER="number";static MAIL="mail";static PASSWORD="password";static DATE="date";static TIME="time";static DATETIME="lodatetime-localstFocus";constructor(t,s){super(t,s),this._font=new a,this._font.on(e.CHANGE,((t,s)=>{null!=this._canvas&&(this._canvas.style.font=t.name,this._canvas.style.fontSize=t.size,this._canvas.style.color=t.color)}))}set font(t){t instanceof a?(this._font=t,this._font.emit(e.CHANGE,this._font,"all")):this._font.applyConfig(t)}get font(){return this._font}set type(t){this._type=t,null!=this._canvas&&(this._canvas.type=t),console.log(this._canvas.type)}get type(){return this._type}set width(t){this._width=t,null!=this._canvas&&(this._canvas.style.width=t)}get width(){return this._width}set height(t){this._height=t,null!=this._canvas&&(this._canvas.style.height=t)}get height(){return this._height}set placeholder(t){this._placeholder=t,null!=this._canvas&&(this._canvas.placeholder=t)}get placeholder(){return this._placeholder}doRender(t){this._canvas=document.createElement("input"),this._canvas.type=this.getConf("type","text"),this._canvas.onclick=()=>this.emit(e.CLICK,this),this._canvas.onfocus=()=>this.emit(e.FOCUS,this),this._canvas.onblur=()=>this.emit(e.LOSTFOCUS,this),t.appendChild(this._canvas)}}export{t as Align,c as Application,r as Button,s as Color,n as Component,l as Container,h as Control,e as Event,i as EventEmitter,a as Font,o as Label,_ as TextBox};
